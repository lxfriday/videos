# 前端八股送命题之nodeValue、innerText、textContent的区别

- [前往视频](https://www.bilibili.com/video/BV1F8411j7Hp)

你们能说出这三个console.log
分别会打印什么内容吗
这是一道非常恶心的前端面试八股题
说它难吧
还真算不上难
但是面试的时候
如果突然给你整这个题
相信有80%到90%的兄弟们
可能都答不上来
在控制台打印出来的结果是这样的
打印出来的innerText
textContent和nodeValue都不一样
兄弟们面试要是碰到这个题
是不是得找下一家了呀
先说一说这三个属性是用来干什么的
概括一点说的话
这三个属性
都是用来获取或者是设置
节点中的值的
但是它们定义在不同的原型上面
并且它们在获取节点值的时候
会存在一些不同的处理方式
用innerText
可以获取到可显示的文本内容
由于第二个span标签被设置了display none
这样设置之后innerText是获取不到的
而textContent是可以获取到的
而script标签及其内容
在页面上面也是没有办法显示出来的
所以innerText也获取不到
nodeValue返回的是 null
因为它通常作用于
纯文本节点和注释节点
而这个wrapper是一个HTML元素
在了解这三者的区别之前呢
我们先分析一下
HTMLElement和Node的关系
当我们打印wrapper这个div
原型链上面的所有构造函数的时候
它会先打印出HTMLElement
然后再打印出Node
实际上HTMLElement是Node的一个子类
而innerText定义在HTMLElement原型上
面的下面的textContent和nodeValue
都是定义在node原型上面的
用innerText属性
可以获取到一个节点及其后代节点
所渲染出来的文本内容
渲染的文本内容
用人话讲就是人能够看到的内容
页面中只能看到 i am norrmal
也就是第一个span中的内容
第二个span标签
以及script标签中的内容
因为无法显示出来
所以innerText获取不到
不过人看不到这个说法
也并不是那么准确啊实际上
如果把display:none改成opacity:0
人照样也是看不到这一行
而innerText
是可以获取到im opacity 0这一行的
这一点需要多多注意一下
 textContent它的解释就比较直接了
它表示一个节点及其后代的文本内容
在这个例子里面
wrapper的后代节点中 普通的HTML标签
style标签和script标签中的内容
都可以获取到
但是注释中的内容是没办法获取到的
而当我们直接获取
注释这个节点的textContent值的时候
是可以获取到注释节点的文本内容的
这两者的区别是在于
textContent是无法获取到
子节点中注释节点的文本内容的
听起来可能比较绕啊
换句话说就是
只有当前节点就是注释节点的时候
textContent才是注释节点的文本内容
一般情况下
面试的人也不会出的这么刁钻啊
基本上
使用textContent就可以获取到这个节点
所有子节点的文本内容
nodeValue实际上是一个用的比较少的属性
它通常只会用于注释节点和文本节点
什么是注释节点和文本节点呢
不就是普通的注释和字符串吗
说的这么高级
这个wrapper标签内部看似只有3个节点
1个注释节点和两个span标签
但是
当你打印wrapper的所有子节点的时候
它一共是有7个子节点
实际上换行也被算作了一个文本节点
对于文本节点或者是注释节点
你可以使用noteValue或者是textContent
获取到这个节点的值
这个是注释节点的nodeValue和textContent
它们是一样的
实际上你可以这么理解
使用nodeValue是为了获取到文本节点
或者是注释节点的值
而wapper是一个HTML标签
它并不是文本或者注释节点
所以打印它的ndoeValue属性的时候
返回的是null
而textContent是可以获取了当前节点及其
子节点的所有文本内容
当然了子节点中的注释节点是没有办法获取到的
兄弟们属实是比较绕啊
最后再补充两个关于
元素和节点区别的内容
一个div标签
内部放了 我是文本 四个字
打印这个wrapper标签的childNodes的时候
显示的是有一个text节点
这个节点很显然就是 我是文本 4个字
加上两个换行构成的文本节点
所以最靠近 我是文本 4个字的节点
是文本节点
这个文本节点的父节点才是div
这个HTML标签
兄弟们本期视频到这里就结束了
